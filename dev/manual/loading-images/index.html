<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Loading &amp; Saving Images · AstroImages.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/theme.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="AstroImages.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">AstroImages.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Manual</span><ul><li><a class="tocitem" href="../getting-started/">Getting Started</a></li><li class="is-active"><a class="tocitem" href>Loading &amp; Saving Images</a><ul class="internal"><li><a class="tocitem" href="#Dimension-Names"><span>Dimension Names</span></a></li><li><a class="tocitem" href="#Saving-Images"><span>Saving Images</span></a></li></ul></li><li><a class="tocitem" href="../displaying-images/">Displaying Images</a></li><li><a class="tocitem" href="../array/">Array Operations</a></li><li><a class="tocitem" href="../headers/">Headers</a></li><li><a class="tocitem" href="../dimensions-and-world-coordinates/">Dimensions and World Coordinates</a></li><li><a class="tocitem" href="../polarization/">Polarization</a></li><li><a class="tocitem" href="../spec/">Spectral Axes</a></li><li><a class="tocitem" href="../preserving-wrapper/">Preserving Wrapper</a></li><li><a class="tocitem" href="../conventions/">Conventions</a></li><li><a class="tocitem" href="../converting-to-rgb/">Converting to RGB</a></li><li><a class="tocitem" href="../converting-from-rgb/">Converting from RGB</a></li></ul></li><li><span class="tocitem">Guides</span><ul><li><a class="tocitem" href="../../guide/image-filtering/">Blurring &amp; Filtering Images</a></li><li><a class="tocitem" href="../../guide/image-transformations/">Transforming Images</a></li><li><a class="tocitem" href="../../guide/reproject/">Reprojecting Images</a></li><li><a class="tocitem" href="../../guide/photometry/">Extracting Photometry</a></li><li><a class="tocitem" href="../../guide/contours/">Plotting Contours</a></li></ul></li><li><a class="tocitem" href="../../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Loading &amp; Saving Images</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Loading &amp; Saving Images</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaAstro/AstroImages.jl/blob/master/docs/src/manual/loading-images.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Loading-Images"><a class="docs-heading-anchor" href="#Loading-Images">Loading Images</a><a id="Loading-Images-1"></a><a class="docs-heading-anchor-permalink" href="#Loading-Images" title="Permalink"></a></h1><p>FITS (Flexible Image Transport System) files can be loaded and saved using AstroImages thanks to the FITSIO package.</p><p>AstroImages is registered with <a href="https://juliaio.github.io/FileIO.jl/stable/">FileIO</a>, so if you have FileIO and AstroImages installed you can get started with the <code>load</code> function. When you pass a file name with the appropriate file extension (&quot;.fits&quot;, &quot;.fit&quot;, etc.) FileIO will import AstroImages automatically.</p><p>Alternatively, you can use the <code>AstroImage</code> contructor instead of load. This will work on fits files with any file extension, including compressed files (e.g. &quot;.fits.gz&quot;).</p><pre><code class="language-julia hljs">julia&gt; img = load(&quot;myfitsimg.fits&quot;)
1600×1600 AstroImage{Float32,2} with dimensions:
  X Sampled Base.OneTo(1600) ForwardOrdered Regular Points,
  Y Sampled Base.OneTo(1600) ForwardOrdered Regular Points
 0.0  0.0  0.0  0.0  0.0  …  0.0  0.0  0.0  0.0
 0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0
 0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0
 0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0
 ⋮                        ⋱
 0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0
 0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0
 0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0</code></pre><p>Note: if you are in an interactive environment like VSCode, Jupyter, or Pluto, instead of a REPL, AstroImages are automatically rendered to images and displayed. You can see this plain text output by explicitly calling: <code>show(stdout, MIME(&quot;text/plain&quot;), img)</code>.</p><p>Or:</p><pre><code class="language-julia hljs"> julia&gt; img = AstroImage(&quot;myfitsimg.fits.gz&quot;)
1600×1600 AstroImage{Float32,2} with dimensions:
  X Sampled Base.OneTo(1600) ForwardOrdered Regular Points,
  Y Sampled Base.OneTo(1600) ForwardOrdered Regular Points
 0.0  0.0  0.0  0.0  0.0  …  0.0  0.0  0.0  0.0
 0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0
 0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0
 0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0
 ⋮                        ⋱
 0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0
 0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0
 0.0  0.0  0.0  0.0  0.0     0.0  0.0  0.0  0.0</code></pre><p>A FITS file can contain multiple N-dimensional images and tables. When you call load or AstroImage with a file name and no other arguments, the package will search through the file and return the first image HDU. That is, it will skip any FITS tables or empty HDUs with only headers.</p><p>You can also specify an HDU number explicitly:</p><pre><code class="language-julia hljs">julia&gt; img = load(&quot;myfitsimg.fits&quot;,1)
1600×1600 AstroImage{Float32,2} with dimensions:
  X Sampled Base.OneTo(1600) ForwardOrdered Regular Points,
  Y Sampled Base.OneTo(1600) ForwardOrdered Regular Points
...</code></pre><p>This way, you can load specific images from multi-extension files.</p><p>You can load all HDUs simultaneously by passing <code>:</code>:</p><pre><code class="language-julia hljs">julia&gt; hdus = load(&quot;multiext.fits&quot;, :);
julia&gt; hdus[2] # Second HDU as an AstroImage
10×10 AstroImage{Float64,2} with dimensions:
  X Sampled Base.OneTo(10) ForwardOrdered Regular Points,
  Y Sampled Base.OneTo(10) ForwardOrdered Regular Points
 -0.777315  -1.36683   -0.580179     1.39629      …  -2.14298     0.450059   0.432065
 -1.09619    0.789249   0.938415     0.959903        -0.88995    -1.29406   -0.4291
  0.47427   -1.41855    0.814823    -1.15975          0.0427149  -1.20116   -0.0920709
 -0.179858  -1.60228    1.09648     -0.497927        -1.31824    -0.156529  -0.0223846
  2.64162    0.131437   0.320476     0.331197        -0.914713   -1.55162   -0.18862
  0.209669  -1.17923   -0.656512     0.000775311  …   0.377461   -0.24278    0.967202
  1.01442   -0.762895  -2.13238     -0.456932        -0.415733   -1.21416   -1.6108
  0.385626   0.389335  -0.00726015   0.309936        -0.533175    0.157878   0.100876
 -1.24799    0.461216  -0.868826    -0.255654        -0.37151     0.49479   -1.87129
  1.39356    2.29254    0.0548325    1.50674         -0.0880865   0.580978  -1.81629
julia&gt; # Or:
julia&gt; hdu1, hdu2, hdu3 = load(&quot;multiext.fits&quot;, :);</code></pre><p>There is also limited support for table HDUs. In this case, a bare-bones Tables.jl compatible  object is returned.</p><h2 id="Dimension-Names"><a class="docs-heading-anchor" href="#Dimension-Names">Dimension Names</a><a id="Dimension-Names-1"></a><a class="docs-heading-anchor-permalink" href="#Dimension-Names" title="Permalink"></a></h2><p>You may have noticed the entries above the image array:</p><pre><code class="nohighlight hljs">10×10 AstroImage{Float64,2} with dimensions:
  X Sampled Base.OneTo(10) ForwardOrdered Regular Points,
  Y Sampled Base.OneTo(10) ForwardOrdered Regular Points</code></pre><p>AstroImages are based on <a href="https://github.com/rafaqz/DimensionalData.jl">Dimensional Data</a>. Each axis is assigned a dimension name and the indices are tracked. The automatic dimension names are <code>X</code>, <code>Y</code>, <code>Z</code>, <code>Dim{4}</code>, <code>Dim{5}</code>, and so on; however you can pass in other names or orders to the load function and/or AstroImage contructor:</p><pre><code class="language-julia hljs">julia&gt; img = load(&quot;img.fits&quot;,1,(Y=1:1600,Z=1:1600))
1600×1600 AstroImage{Float32,2} with dimensions:
  Y Sampled 1:1600 ForwardOrdered Regular Points,
  Z Sampled 1:1600 ForwardOrdered Regular Points</code></pre><p>Other useful dimension names are <code>Spec</code> for spectral axes, <code>Pol</code> for polarization data, and <code>Ti</code> for time axes.</p><p>These will be further discussed in Dimensions and World Coordinates.</p><h2 id="Saving-Images"><a class="docs-heading-anchor" href="#Saving-Images">Saving Images</a><a id="Saving-Images-1"></a><a class="docs-heading-anchor-permalink" href="#Saving-Images" title="Permalink"></a></h2><p>You can save one or more AstroImages and tables to a FITS file using the <code>save</code> function:</p><pre><code class="language-julia hljs">julia&gt; save(&quot;abc.fits&quot;, astroimage1, astroimage2, table1)</code></pre><p>You can also save individual images to traditional graphics formats by first rendering them with <code>imview</code> (for more on imview, see Displaying Images).</p><pre><code class="language-julia hljs">julia&gt; save(&quot;abc.png&quot;, imview(astroimage1))</code></pre><p>You can save animated GIFs by saving a 3D datacube that has been rendered with imview:</p><pre><code class="language-julia hljs">julia&gt; cube =  imview(AstroImage(randn(100,100,10)));
julia&gt; save(&quot;abc.gif&quot;, cube, fps=10)

julia&gt; # Or a more complex example (changing color schemes each frame)
julia&gt; img = randn(10,10)
julia&gt; cube2 = [imview(img1, cmap=:magma) ;;; imview(img2, cmap=:plasma) ;;; imview(img3, cmap=:viridis)]
julia&gt; # Alternative syntax:
julia&gt; cube2 = cat(imview(img1, cmap=:magma), imview(img2, cmap=:plasma), imview(img3, cmap=:viridis), dims=3)
julia&gt; save(&quot;abc.gif&quot;, cube, fps=10)</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../getting-started/">« Getting Started</a><a class="docs-footer-nextpage" href="../displaying-images/">Displaying Images »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Friday 4 November 2022 18:36">Friday 4 November 2022</span>. Using Julia version 1.8.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
